<!DOCTYPE html>
<html lang="rw">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Burundi Digital Marketboard</title>

  <!-- PWA manifest -->
  <link rel="manifest" href="/manifest.json">

  <!-- Core styles -->
  <link rel="stylesheet" href="/style.css">

  <!-- Favicons / social (optional) -->
  <meta name="theme-color" content="#a6c1ee">
</head>
<body>

  <!-- =========================
       Background media (video + image fallback)
       ========================= -->
  <div class="bg-media" aria-hidden="true">
    <!-- Image fallback (visible immediately; poster + CSS help cover) -->
    <img class="bg-image" src="/fallback-hero.jpg" alt="" />

    <!-- Video background (muted autoplay loop playsinline). Provide both webm and mp4 -->
    <video class="bg-video" autoplay muted loop playsinline poster="/fallback-hero.jpg">
      <source src="/hero-background.webm" type="video/webm" />
      <source src="/hero-background.mp4" type="video/mp4" />
      <!-- If video unsupported, the <img> fallback remains visible -->
    </video>
  </div>

  <!-- overlay for contrast -->
  <div class="bg-overlay" aria-hidden="true"></div>

  <!-- =========================
       Page header / hero
       ========================= -->
  <header class="hero" role="banner">
    <div class="hero-inner">
      <h1 class="site-title">🛍️ Burundi Digital Marketboard</h1>
      <p class="tagline">Iguriro rishya ry’urwaruka — byihuta, byoroshye, by’umwuga.</p>

      <div class="hero-actions">
        <button id="themeToggle" class="btn" aria-pressed="false">🌙 Hindura Theme</button>
        <a class="btn cta" href="#catalogue">Tangira Kureba Ibicuruzwa</a>
      </div>

      <p class="micro">Ibyiza kuri mobile: autoplay muted video, image fallback, kandi PWA-ready.</p>
    </div>
  </header>

  <!-- toast notifications -->
  <div id="toast" role="status" aria-live="polite"></div>

  <!-- =========================
       Catalogue (dynamic from Supabase)
       ========================= -->
  <main id="main" role="main">
    <section id="catalogue" class="catalogue-grid" aria-labelledby="catalogue-title">
      <h2 id="catalogue-title" class="sr-only">Catalogue</h2>
      <div id="loading" class="loading">⏳ Turiko turakurura ibicuruzwa...</div>
      <!-- product cards appended here by app.js -->
    </section>

    <!-- =========================
         Testimonials carousel
         ========================= -->
    <section id="testimonials" class="testimonials" aria-labelledby="testimonials-title">
      <h2 id="testimonials-title">💬 Ivyiyumviro vy’abakoresha</h2>
      <div class="testimonial-container" aria-live="polite">
        <div class="testimonial active">
          <p>"Marketboard yatumye ibicuruzwa vyanje bigera ku bantu benshi cane!"</p>
          <span>- Aline, Jeune Boutique</span>
        </div>
        <div class="testimonial">
          <p>"Nabonye abakiriya bashasha mu ndwi imwe gusa 🙌"</p>
          <span>- Eric, Broskie Studio</span>
        </div>
        <div class="testimonial">
          <p>"Biroroshe, biryoheye ijisho kandi birizewe."</p>
          <span>- Diane, Youth Seller</span>
        </div>
      </div>
    </section>

    <!-- =========================
         Jokes spinner
         ========================= -->
    <section id="jokes" class="jokes" aria-labelledby="jokes-title">
      <h2 id="jokes-title">😂 Joke Spinner</h2>
      <div class="jokes-inner">
        <button id="jokeBtn" class="btn">Spin Joke</button>
        <p id="jokeText" class="joke-text">Kanda kuri button kugira ngo ubone urwenya...</p>
      </div>
    </section>

    <!-- =========================
         Chatbot placeholder (future integration)
         ========================= -->
    <section id="chatbot" class="chatbot" aria-labelledby="chatbot-title">
      <h2 id="chatbot-title">🤖 Chatbot</h2>
      <div id="chatWindow" class="chat-window">
        <p><em>Chatbot ikomeye izashyirwa hano mu gihe kiri imbere. Iyi ni placeholder.</em></p>
      </div>
      <div class="chat-footer">
        <button class="btn" disabled>Start Chat (coming soon)</button>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer" role="contentinfo">
    <p>© 2025 Marketboard | Made with care for Burundian youth</p>
  </footer>

  <!-- =========================
       Scripts
       ========================= -->
  <!-- Supabase JS (public anon key used inside app.js) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <!-- App behavior (connects to Supabase, loads catalogue, testimonials rotation, jokes spinner, dark mode) -->
  <script src="/app.js" defer></script>

  <!-- Accessibility helper: visually hidden class -->
  <style>
    .sr-only { position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
  </style>
</body>
</html>
